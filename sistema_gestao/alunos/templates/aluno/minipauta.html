{% extends 'aluno/layout/base.html' %}

{% block content %}

<form action="{% url 'minipautaBusca' %}" method="POST" class="formMiniBusca">
    {% csrf_token %}

    <label for="curso">Curso:</label>
    <select name="curso" id="curso">
        {% for curso in cursos %}
            <option value="{{ curso.id }}">{{ curso.nome }}</option>
        {% endfor %}
    </select>

    <label for="tuma">Turma:</label>
    <select name="turma" id="turma">
        <option value="">Indefinido</option>
        <option value="A">Turma A</option>
        <option value="B">Turma B</option>
        <option value="C">Turma C</option>
        <option value="D">Turma D</option>
    </select>

    <label for="turno">Turno:</label>
    <select name="turno" id="turno">
        <option value="">Indefinido</option>
        <option value="Manhã">Turno da Manhã</option>
        <option value="Tarde">Turno da Tarde</option>
    </select>

    <label for="classe">Classe:</label>
    <select name="classe" id="clasee">
        <option value="0">Indefinido</option>
        <option value="10">10ª Classe</option>
        <option value="11">11ª Classe</option>
        <option value="12">12ª Classe</option>
        <option value="13">13ª Classe</option>
    </select>

    <input type="submit" value="Filtrar">

</form>

<div class="page" style="width: auto; align-self: start; margin: 20px;">
        <h1 style="color: rgb(148, 114, 4);">MINI-PAUTA</h1>
</div>


<table border="1">

    {% if dado_todos %}

    <tr>
        <th colspan="2"  style="background-color: rgb(0, 174, 255);"><h1>{{ dado_todos.curso }}</h1></th>
        <th colspan="3"  style="background-color: rgb(0, 174, 255);"><h1>{{ dado_todos.sala }}</h1></th>
    </tr>
    <tr>
        <th><h1>{{ dado_todos.classe }}ª Classe</h1></th>
        <th colspan="2" style="background-color: rgb(0, 89, 255);"><h1>Turma {{ dado_todos.turma }}</h1></th>
        <th colspan="2" style="background-color: rgb(0, 89, 255);"><h1>Periódo da {{ dado_todos.turno }}</h1></th>
    </tr>

    {% elif dado_turma and dado_classe and dado_curso %}
    
    <tr>
        <th colspan="5"  style="background-color: rgb(0, 174, 255);"><h1>{{ dado_curso }}</h1></th>
    </tr>
    <tr>
        <th colspan="2" style="background-color: rgb(0, 89, 255);"><h1>{{ dado_classe }}ª Classe</h1></th>
        <th colspan="3" style="background-color: rgb(0, 89, 255);"><h1>Turma {{ dado_turma }}</h1></th>
    </tr>

    {% elif dado_turno and dado_classe and dado_curso %}
    
    <tr>
        <th colspan="5"  style="background-color: rgb(0, 174, 255);"><h1>{{ dado_curso }}</h1></th>
    </tr>
    <tr>
        <th colspan="2" style="background-color: rgb(0, 89, 255);"><h1>{{ dado_classe }}ª Classe</h1></th>
        <th colspan="3" style="background-color: rgb(0, 89, 255);"><h1>Periódo {{ dado_turno }}</h1></th>
    </tr>

    {% elif dado_turno and dado_turma and dado_curso %}
    
    <tr>
        <th colspan="5" style="background-color: rgb(0, 174, 255);"><h1>{{ dado_curso }}</h1></th>
    </tr>
    <tr>
        <th colspan="2" style="background-color: rgb(0, 89, 255);"><h1>Turma {{ dado_turma }}</h1></th>
        <th colspan="3" style="background-color: rgb(0, 89, 255);"><h1>Periódo {{ dado_turno }}</h1></th>
    </tr>

    {% elif dado_turma and dado_curso %}
    
    <tr>
        <th colspan="3" style="background-color: rgb(0, 89, 255);"><h1>{{ dado_curso }}</h1></th>
        <th colspan="2" style="background-color: rgb(0, 89, 255);"><h1>Turma {{ dado_turma }}</h1></th>
    </tr>

    {% elif dado_classe and dado_curso %}
    
    <tr>
        <th colspan="3" style="background-color: rgb(0, 89, 255);"><h1>{{ dado_curso }}</h1></th>
        <th colspan="2" style="background-color: rgb(0, 89, 255);"><h1>{{ dado_classe }}ª Classe</h1></th>
    </tr>

    {% elif dado_turno and dado_curso %}
    
    <tr>
        <th colspan="3" style="background-color: rgb(0, 89, 255);"><h1>{{ dado_curso }}</h1></th>
        <th colspan="2" style="background-color: rgb(0, 89, 255);"><h1>Periódo {{ dado_turno }}</h1></th>
    </tr>

    {% elif dado_curso %}

    <tr>
        <th colspan="5" style="background-color: rgb(0, 89, 255);"><h1>{{ dado_curso }}</h1></th>
    </tr>

    {% else %}

    <tr>
        <th colspan="5" style="background-color: rgb(0, 89, 255);"><h1>Mini Pautas</h1></th>
    </tr>

    {% endif %}

    <tr>
        <th style="background-color: aliceblue; color: black;">Nome</th>
        <th style="background-color: aliceblue; color: black;">Trimestre</th>
        <th style="background-color: aliceblue; color: black;">Prova</th>
        <th style="background-color: aliceblue; color: black;">Disciplina</th>
        <th style="background-color: aliceblue; color: black;">Nota</th>
    </tr>

{% for nota in notas %}
    <tr>
        <td style="background-color: aliceblue; color: black;">{{ nota.aluno }}</td>
        <td style="background-color: aliceblue; color: black;">{{ nota.trimestre }} Trimestre</td>
        <td style="background-color: aliceblue; color: black;">{{ nota.prova }}</td>
        <td style="background-color: aliceblue; color: black;">{{ nota.disciplina }}</td>
        <td style="background-color: aliceblue; color: black;">{{ nota.nota }} Valor(es)</td>

    </tr>


{% empty %}

    <h3>Sem Notas Cadastradas</h3>

{% endfor %}

</table>


{% endblock %}