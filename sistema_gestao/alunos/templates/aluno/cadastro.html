{% extends 'aluno/layout/base.html' %}

{% block content %}

{% if messages %}
    {% for message in messages %}
        {% if 'error' in message.tags %}

            <div style="width: 50%; height: auto; background-color: rgb(253, 27, 27); margin: 20px; border-radius: 10px; padding: 20px;">
                <h1 style="text-align: center;">{{ message }}</h1>
            </div>

        {% elif 'success' in message.tags %}

            <div style="width: 50%; height: auto; background-color: rgb(4, 250, 98); margin: 20px; border-radius: 10px; padding: 20px;">
                <h1 style="text-align: center;">{{ message }}</h1>
            </div>

        {% else %}

            <div style="width: 50%; height: auto; background-color: rgb(246, 250, 4); margin: 20px; border-radius: 10px; padding: 20px;">
                <h1 style="text-align: center;">{{ message }}</h1>
            </div>
        
        {% endif %}
    {% endfor %}
{% endif %}

    <div class="page" id="div-pretende" style="margin-top: 40px;">
        <h1 style="color: rgb(148, 114, 4);">CADASTRO DE ALUNO</h1>
    </div>

    <div style="height: auto; width: 83vw; display: flex; justify-content: space-evenly; align-items: center;">

    {% if aluno %}

        <div style="background-color: rgb(0, 140, 255); padding: 20px; border-radius: 10px;" id="div-pretende">
            <h1>Pretende realizar o pagamento de propina?</h1>
            <div class="btn-cadastra" style="margin-top: 20px;">
                <button type="submit" id="btn-cada" style="background: gray; padding: 8px;">
                    <a href="{% url 'propina' aluno.id %}" style="color: black;">Pretendo</a>
                </button>
                <button type="reset" id="btn-cada" style="background: rgb(233, 48, 42); padding: 8px;" >
                    <a href="{% url 'lista' %}" style="color: black;">NÃ£o Pretendo</a>
                </button>
            </div>
        </div>
        
    {% else %}

        <form action="{% url 'novo_aluno' %}" method="post" class="form" style="height: 100vh; width: 65%;">
            {% csrf_token %}

            {{ form.as_p }}

            {% if form.errors %}
                <ul>
                    {% for field, error in form.errors.itms %}
                        <li style="color: red;">{{ field }}: {{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}

            <div class="btn-cadastra">
                <button type="submit" id="btn-cada" class="btn-pretende" style="background: rgb(0, 174, 255);">Cadastrar</button>
                <button type="reset" id="btn-cada" style="background: rgb(233, 48, 42);">Limpar</button>
                <button id="btn-cada" style="background: gainsboro;">
                    <a href="{% url 'lista' %}" style="color: black;">Voltar</a>
                </button>
            </div>

        </form>
    {% endif %}

    </div>

{% endblock %}